FROM quay.io/centos-bootc/centos-bootc:stream10

COPY config/usr /usr
RUN \
    ## Add vscode repo and key
    dnf -y install epel-release && \
    dnf -y install fish qemu-guest-agent firewalld cockpit && \
    dnf clean all

RUN TARGET_DIR=/opt/xonsh-env PYTHON_VER=3.12 \
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/anki-code/xonsh-install/main/mamba-install-xonsh.sh)"
